---
/**
 * SecretNumberFlowchart.astro
 *
 * Inline SVG component for the Secret Number Game flowchart.
 * Used in Station 2 to illustrate visual logic representation.
 *
 * Source: docs/examples/secret-number-simple.svg
 */

interface Props {
  class?: string;
}

const { class: className = '' } = Astro.props;
---

<figure class:list={['flowchart-container', className]}>
  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 478 498' role='img' aria-labelledby='flowchart-title flowchart-desc' class='flowchart-svg'>
    <title id='flowchart-title'>Secret Number Game Flowchart</title>
    <desc id='flowchart-desc'>A flowchart showing the logic flow of the Secret Number Game: start, display welcome messages, get player input, check if guess is correct, display win or lose message, then display thanks for playing.</desc>

    <!-- Main program box (green with double lines) -->
    <g>
      <rect x='50' y='80' width='81.2' height='30' style='fill:#a5d6a7; stroke:#444; stroke-width:1'></rect>
      <line x1='60' y1='80' x2='60' y2='110' style='fill:#a5d6a7; stroke:#444; stroke-width:1'></line>
      <line x1='121.2' y1='80' x2='121.2' y2='110' style='fill:#a5d6a7; stroke:#444; stroke-width:1'></line>
      <title>Main</title>
      <text x='75' y='100' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='75' y='100'>Main</tspan>
      </text>
    </g>

    <!-- Output: Welcome message (blue rectangle) -->
    <g>
      <rect x='87' y='128.5' width='365.4' height='30' rx='3' ry='3' style='fill:#90caf9; stroke:#444; stroke-width:1'></rect>
      <title>output "Welcome to the Secret Number Game!"</title>
      <text x='102' y='148.5' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='102' y='148.5'>output "Welcome to the Secret Number Game!"</tspan>
      </text>
    </g>

    <!-- Output: Thinking of a number (blue rectangle) -->
    <g>
      <rect x='87' y='177' width='303' height='30' rx='3' ry='3' style='fill:#90caf9; stroke:#444; stroke-width:1'></rect>
      <title>output "I am thinking of a number."</title>
      <text x='102' y='197' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='102' y='197'>output "I am thinking of a number."</tspan>
      </text>
    </g>

    <!-- Output: Can you guess (blue rectangle) -->
    <g>
      <rect x='87' y='225.5' width='295.2' height='30' rx='3' ry='3' style='fill:#90caf9; stroke:#444; stroke-width:1'></rect>
      <title>output "Can you guess what it is?"</title>
      <text x='102' y='245.5' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='102' y='245.5'>output "Can you guess what it is?"</tspan>
      </text>
    </g>

    <!-- Input: guess (blue rectangle) -->
    <g>
      <rect x='87' y='274' width='115.8' height='30' rx='3' ry='3' style='fill:#90caf9; stroke:#444; stroke-width:1'></rect>
      <title>input guess</title>
      <text x='102' y='294' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='102' y='294'>input guess</tspan>
      </text>
    </g>

    <!-- Decision: guess is correct (purple diamond) -->
    <g>
      <rect x='117' y='337.5' width='184.8' height='30' rx='3' ry='3' style='fill:#ce93d8; stroke:#444; stroke-width:1'></rect>
      <polygon points='87,352.5 117,322.5 147,352.5 117,382.5' style='fill:#ce93d8; stroke:#444; stroke-width:1'></polygon>
      <title>guess is correct</title>
      <text x='162' y='357.5' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='162' y='357.5'>guess is correct</tspan>
      </text>
      <text x='109.2' y='357.5' font-family='monospace' font-size='13' fill='#222'>if</text>
      <text x='124.8' y='384.45' font-family='monospace' font-size='13' fill='#222'>+</text>
    </g>

    <!-- Output: You win (blue rectangle) -->
    <g>
      <rect x='137' y='392.5' width='162.6' height='30' rx='3' ry='3' style='fill:#90caf9; stroke:#444; stroke-width:1'></rect>
      <title>output "You win!"</title>
      <text x='152' y='412.5' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='152' y='412.5'>output "You win!"</tspan>
      </text>
    </g>

    <!-- Output: Thanks for playing (blue rectangle) -->
    <g>
      <rect x='87' y='442.5' width='248.4' height='30' rx='3' ry='3' style='fill:#90caf9; stroke:#444; stroke-width:1'></rect>
      <title>output "Thanks for playing!"</title>
      <text x='102' y='462.5' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='102' y='462.5'>output "Thanks for playing!"</tspan>
      </text>
    </g>

    <!-- Start oval (yellow) -->
    <g>
      <rect x='25' y='13.75' width='84' height='24' style='fill:#fff59d; stroke:#444; stroke-width:1'></rect>
      <circle cx='25' cy='25' r='15' style='fill:#fff59d; stroke:#444; stroke-width:1'></circle>
      <title>start</title>
      <text x='55' y='30' font-family='monospace' font-size='13' fill='#222'>
        <tspan x='55' y='30'>start</tspan>
      </text>
    </g>

    <!-- Arrow: start to Main -->
    <g>
      <path d='M25,40 L25,91 Q25,95 29,95 L42,95' style='fill:none; stroke:#444; stroke-width:1'></path>
      <path d='M42,92 L50,95 L42,98 Z' fill='#333'></path>
    </g>

    <!-- Arrow: Main to Welcome -->
    <g>
      <path d='M68.5,110 L68.5,139.5 Q68.5,143.5 72.5,143.5 L79,143.5' style='fill:none; stroke:#444; stroke-width:1'></path>
      <path d='M79,140.5 L87,143.5 L79,146.5 Z' fill='#333'></path>
    </g>

    <!-- Arrow: Main to Thinking -->
    <g>
      <path d='M68.5,110 L68.5,188 Q68.5,192 72.5,192 L79,192' style='fill:none; stroke:#444; stroke-width:1'></path>
      <path d='M79,189 L87,192 L79,195 Z' fill='#333'></path>
    </g>

    <!-- Arrow: Main to Can you guess -->
    <g>
      <path d='M68.5,110 L68.5,236.5 Q68.5,240.5 72.5,240.5 L79,240.5' style='fill:none; stroke:#444; stroke-width:1'></path>
      <path d='M79,237.5 L87,240.5 L79,243.5 Z' fill='#333'></path>
    </g>

    <!-- Arrow: Main to Input -->
    <g>
      <path d='M68.5,110 L68.5,285 Q68.5,289 72.5,289 L79,289' style='fill:none; stroke:#444; stroke-width:1'></path>
      <path d='M79,286 L87,289 L79,292 Z' fill='#333'></path>
    </g>

    <!-- Arrow: Main to Decision -->
    <g>
      <path d='M68.5,110 L68.5,348.5 Q68.5,352.5 72.5,352.5 L79,352.5' style='fill:none; stroke:#444; stroke-width:1'></path>
      <path d='M79,349.5 L87,352.5 L79,355.5 Z' fill='#333'></path>
    </g>

    <!-- Arrow: Decision to You win -->
    <g>
      <path d='M117,382.5 L117,403.5 Q117,407.5 121,407.5 L129,407.5' style='fill:none; stroke:#444; stroke-width:1'></path>
      <path d='M129,404.5 L137,407.5 L129,410.5 Z' fill='#333'></path>
    </g>

    <!-- Arrow: Main to Thanks -->
    <g>
      <path d='M68.5,110 L68.5,453.5 Q68.5,457.5 72.5,457.5 L79,457.5' style='fill:none; stroke:#444; stroke-width:1'></path>
      <path d='M79,454.5 L87,457.5 L79,460.5 Z' fill='#333'></path>
    </g>
  </svg>
  <figcaption class='flowchart-caption'>The Secret Number Game as a flowchart</figcaption>
</figure>

<style>
  .flowchart-container {
    margin: 1.5rem 0;
    text-align: center;
  }

  .flowchart-svg {
    max-width: max(300px, 60%);
    height: auto;
    background: hsl(0, 0%, 98%);
    border: 1px solid hsl(0, 0%, 85%);
    border-radius: 0.5rem;
    padding: 1rem;
  }

  .flowchart-caption {
    margin-top: 0.75rem;
    font-size: 0.9rem;
    color: hsl(0, 0%, 40%);
    font-style: italic;
  }
</style>
